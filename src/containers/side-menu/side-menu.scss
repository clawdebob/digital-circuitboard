@import "src/styles/variables";

$slider-width: 12px;
$slider-border-width: 1px;
$arrow-width: 5px;
$arrow-color: darkslategrey;

.side-menu {
  vertical-align: top;
  background-color: $menu-color;
  width: 250px;
  height: 100%;
  border-right: 1px solid;
  z-index: 1;
  display: flex;

  &__split-bar {
    border-left: $slider-border-width solid;
    width: $slider-width;
    cursor: col-resize;
    display: flex;
    height: 100%;
    background: #e9e9e9 url('https://api.iconify.design/mdi:drag-vertical-variant.svg') no-repeat center center / contain;
    background-size: 30px;

    &:hover {
      background-color: $menu-hover;
    }
  }

  &__section {
    display: flex;
    flex-direction: column;

    &__wrapper {
      display: inline-block;
      width: calc(100% - #{$slider-width} - #{$slider-border-width});
      vertical-align: top;
      overflow-x: hidden;
      overflow-y: auto;
      height: 100%;
    }

    &__list {
      height: auto;
      background-color: $menu-color;
      list-style-type: none;
      padding: 20px 0;
      margin: 0;

      &__group {
        user-select: none;

        &-closed {
          .elements-list {
            display: none;
          }
          .arrow {
            border-top-color: $arrow-color !important;
            top: calc((100% - #{$arrow-width}) / 2);
          }
        }

        &-opened {
          .details {
            border-bottom: 1px solid grey;
          }

          .elements-list {
            display: block;
          }

          .arrow {
            border-bottom-color: $arrow-color !important;
            top: calc((100% - #{$arrow-width}) / 2 - #{$arrow-width});
          }
        }

        &:last-child {
          .details {
            border-bottom: 1px solid grey;
          }
          .elements-list {
            border-bottom: 1px solid grey;
          }
        }

        .details {
          border-top: 1px solid grey;
          padding: 10px;
          min-width: 100px;
          position: relative;

          &__selection {
            color: $success;
            position: relative;
            top: 3px;
            font-weight: bold;
          }

          &:hover {
            background-color: $menu-hover;
            cursor: pointer;
          }

          .arrow {
            position: absolute;
            border: $arrow-width solid transparent;
            right: 10px;
          }
        }

        .element {
          background-color: white;
          width: 40px;
          height: 40px;
          border: 1px solid rgba(0,0,0,0.5);
          border-radius: 5px;
          margin: 5px;
          display: inline-block;
          cursor: pointer;

          &--selected {
            border-color: $success;
            outline: 2px solid $success;
          }

          &:hover {
            background-color: $menu-hover;
          }
        }
      }
    }
  }
}
